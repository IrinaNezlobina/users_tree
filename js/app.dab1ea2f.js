(function(){"use strict";var e={5715:function(e,l,u){var n=u(5130),a=u(6768),t=(u(4114),u(8111),u(2489),u(1701),u(144)),r=u(4232);const s={class:"user-table__row"},o={class:"user-table__cell"},c={key:0};var i={__name:"UserRow",props:["user","users","level"],setup(e){const l=(0,t.KR)(!0),u=()=>{l.value=!l.value};return(n,t)=>{const i=(0,a.g2)("UserRow",!0);return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",s,[(0,a.Lk)("div",{class:"user-table__cell",style:(0,r.Tr)({paddingLeft:20*e.level+"px"})},[e.user.children?.length?((0,a.uX)(),(0,a.CE)("span",{key:0,onClick:u,class:"user-table__toggle"},(0,r.v_)(l.value?"−":"+"),1)):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,r.v_)(e.user.name),1)],4),(0,a.Lk)("div",o,(0,r.v_)(e.user.phone),1)]),l.value?((0,a.uX)(),(0,a.CE)("div",c,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.user.children,(l=>((0,a.uX)(),(0,a.Wv)(i,{key:l.id,user:l,users:e.users,level:e.level+1},null,8,["user","users","level"])))),128))])):(0,a.Q3)("",!0)],64)}}},v=u(1241);const _=(0,v.A)(i,[["__scopeId","data-v-13daa45d"]]);var p=_;const d={class:"user-table"},b={class:"user-table__btn-wrapper"},f={class:"user-table__table"},k={class:"user-table__header"},m={class:"user-table__body"},h={key:0,class:"user-table__modal-overlay"},L={class:"user-table__modal"},y=["value"];var g={__name:"HomeView",setup(e){const l=(0,t.KR)(!1),u=(0,t.KR)(JSON.parse(localStorage.getItem("users")||"[]")),s=(0,t.KR)({name:"",phone:"",parentId:null}),o=(0,t.KR)("name"),c=(0,t.KR)(1);(0,a.wB)(u,(e=>{localStorage.setItem("users",JSON.stringify(e))}),{deep:!0});const i=()=>{u.value.push({id:Date.now(),name:s.value.name,phone:s.value.phone,parentId:s.value.parentId}),s.value={name:"",phone:"",parentId:null},l.value=!1},v=e=>{o.value===e?c.value*=-1:(o.value=e,c.value=1)},_=(e,l=null)=>e.filter((e=>e.parentId===l)).sort(((e,l)=>e[o.value]>l[o.value]?c.value:e[o.value]<l[o.value]?-c.value:0)).map((l=>({...l,children:_(e,l.id)}))),g=(0,a.EW)((()=>_(u.value)));return(e,o)=>{const c=(0,a.gN)("maska");return(0,a.uX)(),(0,a.CE)("div",d,[(0,a.Lk)("div",b,[(0,a.Lk)("button",{class:"user-table__btn",onClick:o[0]||(o[0]=e=>l.value=!0)},"Добавить")]),(0,a.Lk)("div",f,[(0,a.Lk)("div",k,[(0,a.Lk)("div",{class:"user-table__cell user-table__cell--clickable",onClick:o[1]||(o[1]=e=>v("name"))},"Имя"),(0,a.Lk)("div",{class:"user-table__cell user-table__cell--clickable",onClick:o[2]||(o[2]=e=>v("phone"))},"Телефон")]),(0,a.Lk)("div",m,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(g.value,(e=>((0,a.uX)(),(0,a.Wv)((0,t.R1)(p),{key:e.id,user:e,users:u.value,level:0},null,8,["user","users"])))),128))])]),l.value?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.Lk)("div",L,[o[9]||(o[9]=(0,a.Lk)("h3",{class:"user-table__modal-title"},"Добавление пользователя",-1)),(0,a.Lk)("form",{class:"user-table__form",onSubmit:(0,n.D$)(i,["prevent"])},[(0,a.bo)((0,a.Lk)("input",{class:"user-table__input","onUpdate:modelValue":o[3]||(o[3]=e=>s.value.name=e),placeholder:"Имя",required:""},null,512),[[n.Jo,s.value.name]]),(0,a.bo)((0,a.Lk)("input",{class:"user-table__input","onUpdate:modelValue":o[4]||(o[4]=e=>s.value.phone=e),placeholder:"+7 (___) ___-__-__",required:""},null,512),[[n.Jo,s.value.phone],[c,"+7 (###) ###-##-##"]]),(0,a.bo)((0,a.Lk)("select",{class:"user-table__input","onUpdate:modelValue":o[5]||(o[5]=e=>s.value.parentId=e)},[o[7]||(o[7]=(0,a.Lk)("option",{value:null},"Без начальника",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.value,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,r.v_)(e.name),9,y)))),128))],512),[[n.u1,s.value.parentId]]),o[8]||(o[8]=(0,a.Lk)("button",{class:"user-table__btn",type:"submit"},"Сохранить",-1)),(0,a.Lk)("button",{class:"user-table__btn user-table__btn--cancel",onClick:o[6]||(o[6]=(0,n.D$)((e=>l.value=!1),["prevent"]))},"Закрыть")],32)])])):(0,a.Q3)("",!0)])}}};const C=(0,v.A)(g,[["__scopeId","data-v-fdc5357e"]]);var w=C;const I={class:"container"};var E={__name:"App",setup(e){return(e,l)=>((0,a.uX)(),(0,a.CE)("div",I,[(0,a.bF)(w)]))}};const O=E;var X=O,K=u(9093);const R=(0,n.Ef)(X);R.use(K["default"]),R.mount("#app")}},l={};function u(n){var a=l[n];if(void 0!==a)return a.exports;var t=l[n]={exports:{}};return e[n].call(t.exports,t,t.exports,u),t.exports}u.m=e,function(){var e=[];u.O=function(l,n,a,t){if(!n){var r=1/0;for(i=0;i<e.length;i++){n=e[i][0],a=e[i][1],t=e[i][2];for(var s=!0,o=0;o<n.length;o++)(!1&t||r>=t)&&Object.keys(u.O).every((function(e){return u.O[e](n[o])}))?n.splice(o--,1):(s=!1,t<r&&(r=t));if(s){e.splice(i--,1);var c=a();void 0!==c&&(l=c)}}return l}t=t||0;for(var i=e.length;i>0&&e[i-1][2]>t;i--)e[i]=e[i-1];e[i]=[n,a,t]}}(),function(){u.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(l,{a:l}),l}}(),function(){u.d=function(e,l){for(var n in l)u.o(l,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:l[n]})}}(),function(){u.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){u.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={524:0};u.O.j=function(l){return 0===e[l]};var l=function(l,n){var a,t,r=n[0],s=n[1],o=n[2],c=0;if(r.some((function(l){return 0!==e[l]}))){for(a in s)u.o(s,a)&&(u.m[a]=s[a]);if(o)var i=o(u)}for(l&&l(n);c<r.length;c++)t=r[c],u.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return u.O(i)},n=self["webpackChunkusers_test"]=self["webpackChunkusers_test"]||[];n.forEach(l.bind(null,0)),n.push=l.bind(null,n.push.bind(n))}();var n=u.O(void 0,[504],(function(){return u(5715)}));n=u.O(n)})();
//# sourceMappingURL=app.dab1ea2f.js.map